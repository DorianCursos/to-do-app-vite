(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();const u=document.getElementById("tasks"),p=document.getElementById("filters"),g=document.getElementById("form"),i=document.getElementById("items-left"),k=document.getElementById("delete-completed"),m=document.getElementById("switch"),E=document.querySelectorAll(".filter");let d=!1,o=[{id:Date.now(),task:"Make a todo app",completed:!1}];const h=()=>{d=!d,d?(document.body.classList.add("dark"),m.src="./assets/images/icon-sun.svg"):(document.body.classList.remove("dark"),m.src="./assets/images/icon-moon.svg")},f=()=>{const e=document.querySelector(".filter--active").dataset.filter;let t=o;return e==="active"?t=o.filter(n=>!n.completed):e==="completed"&&(t=o.filter(n=>n.completed)),t},L=()=>{const e=o.filter(t=>!t.completed).length;o.length===0?i.textContent="No tasks":e===0?i.textContent="All tasks completed!":i.textContent=`${e} items left`},a=e=>{const t=document.createDocumentFragment();e.forEach(n=>{const l=document.createElement("div");l.classList.add("task-container");const s=document.createElement("input");s.classList.add("task-check"),s.type="checkbox",s.checked=n.completed,s.id=n.id;const c=document.createElement("label");c.classList.add("task-text"),c.textContent=n.task,c.htmlFor=n.id;const r=document.createElement("img");r.classList.add("task-delete"),r.src="assets/images/icon-cross.svg",r.addEventListener("click",()=>y(n.id)),s.addEventListener("change",()=>v(n.id)),l.append(s,c,r),t.append(l)}),u.textContent="",u.append(t),L()},T=e=>{o.push(e);const t=f();a(t)},y=e=>{o=o.filter(t=>t.id!==e),console.log(o),a(o)},v=e=>{o=o.map(n=>(n.id===e&&(n.completed=!n.completed),n));const t=f();a(t)},w=e=>{const t={id:Date.now(),task:e,completed:!1};T(t)},C=e=>{[...E].forEach(t=>{t.classList.remove("filter--active")}),e.classList.add("filter--active")},b=e=>{C(e);const t=f();a(t)},x=()=>{o=o.filter(e=>!e.completed),a(o)};a(o);m.addEventListener("click",h);g.addEventListener("submit",e=>{e.preventDefault(),e.target.task.value!==""&&(w(e.target.task.value),e.target.reset())});k.addEventListener("click",x);p.addEventListener("click",e=>{e.target.tagName==="BUTTON"&&b(e.target)});
