(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function c(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(s){if(s.ep)return;s.ep=!0;const n=c(s);fetch(s.href,n)}})();const p=document.getElementById("tasks"),g=document.getElementById("filters"),h=document.getElementById("form"),i=document.getElementById("items-left"),k=document.getElementById("delete-completed"),m=document.getElementById("switch"),E=document.querySelectorAll(".filter");let d=!1;window.matchMedia("(prefers-color-scheme:dark)").matches&&(d=!0);let o=[{id:Date.now(),task:"Make a todo app",completed:!1}];const f=()=>{d?(document.body.classList.add("dark"),document.body.classList.remove("light"),m.src="./assets/images/icon-sun.svg"):(document.body.classList.add("light"),document.body.classList.remove("dark"),m.src="./assets/images/icon-moon.svg")};f();const u=()=>{const e=document.querySelector(".filter--active").dataset.filter;let t=o;return e==="active"?t=o.filter(c=>!c.completed):e==="completed"&&(t=o.filter(c=>c.completed)),t},L=()=>{const e=o.filter(t=>!t.completed).length;o.length===0?i.textContent="No tasks":e===0?i.textContent="All tasks completed!":i.textContent=`${e} items left`},a=e=>{const t=document.createDocumentFragment();e.forEach(c=>{const l=document.createElement("div");l.classList.add("task-container");const s=document.createElement("input");s.classList.add("task-check"),s.type="checkbox",s.checked=c.completed,s.id=c.id;const n=document.createElement("label");n.classList.add("task-text"),n.textContent=c.task,n.htmlFor=c.id;const r=document.createElement("img");r.classList.add("task-delete"),r.src="./assets/images/icon-cross.svg",r.addEventListener("click",()=>v(c.id)),s.addEventListener("change",()=>T(c.id)),l.append(s,n,r),t.append(l)}),p.textContent="",p.append(t),L()},y=e=>{o.push(e);const t=u();a(t)},v=e=>{o=o.filter(t=>t.id!==e),a(o)},T=e=>{o=o.map(c=>(c.id===e&&(c.completed=!c.completed),c));const t=u();a(t)},w=e=>{const t={id:Date.now(),task:e,completed:!1};y(t)},b=e=>{E.forEach(t=>{t.classList.remove("filter--active")}),e.classList.add("filter--active")},C=e=>{b(e);const t=u();a(t)},x=()=>{o=o.filter(e=>!e.completed),a(o)};a(o);m.addEventListener("click",()=>{d=!d,f()});h.addEventListener("submit",e=>{e.preventDefault(),e.target.task.value&&(w(e.target.task.value),e.target.reset())});k.addEventListener("click",x);g.addEventListener("click",e=>{e.target.dataset.filter&&C(e.target)});window.matchMedia("(prefers-color-scheme:dark)").addEventListener("change",e=>{d=e.matches,f()});
