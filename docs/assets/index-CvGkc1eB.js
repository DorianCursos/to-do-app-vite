(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function c(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(s){if(s.ep)return;s.ep=!0;const n=c(s);fetch(s.href,n)}})();const g="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='26'%20height='26'%3e%3cpath%20fill='%23FFF'%20fill-rule='evenodd'%20d='M13%2021a1%201%200%20011%201v3a1%201%200%2011-2%200v-3a1%201%200%20011-1zm-5.657-2.343a1%201%200%20010%201.414l-2.121%202.121a1%201%200%2001-1.414-1.414l2.12-2.121a1%201%200%20011.415%200zm12.728%200l2.121%202.121a1%201%200%2001-1.414%201.414l-2.121-2.12a1%201%200%20011.414-1.415zM13%208a5%205%200%20110%2010%205%205%200%20010-10zm12%204a1%201%200%20110%202h-3a1%201%200%20110-2h3zM4%2012a1%201%200%20110%202H1a1%201%200%20110-2h3zm18.192-8.192a1%201%200%20010%201.414l-2.12%202.121a1%201%200%2001-1.415-1.414l2.121-2.121a1%201%200%20011.414%200zm-16.97%200l2.121%202.12A1%201%200%20015.93%207.344L3.808%205.222a1%201%200%20011.414-1.414zM13%200a1%201%200%20011%201v3a1%201%200%2011-2%200V1a1%201%200%20011-1z'/%3e%3c/svg%3e",p=document.getElementById("tasks"),h=document.getElementById("filters"),k=document.getElementById("form"),i=document.getElementById("items-left"),v=document.getElementById("delete-completed"),m=document.getElementById("switch"),E=document.querySelectorAll(".filter");let d=!1;window.matchMedia("(prefers-color-scheme:dark)").matches&&(d=!0);let o=[{id:Date.now(),task:"Make a todo app",completed:!1}];const f=()=>{d?(document.body.classList.add("dark"),document.body.classList.remove("light"),m.src=g):(document.body.classList.add("light"),document.body.classList.remove("dark"),m.src="./assets/images/icon-moon.svg")};f();const u=()=>{const e=document.querySelector(".filter--active").dataset.filter;let t=o;return e==="active"?t=o.filter(c=>!c.completed):e==="completed"&&(t=o.filter(c=>c.completed)),t},L=()=>{const e=o.filter(t=>!t.completed).length;o.length===0?i.textContent="No tasks":e===0?i.textContent="All tasks completed!":i.textContent=`${e} items left`},r=e=>{const t=document.createDocumentFragment();e.forEach(c=>{const l=document.createElement("div");l.classList.add("task-container");const s=document.createElement("input");s.classList.add("task-check"),s.type="checkbox",s.checked=c.completed,s.id=c.id;const n=document.createElement("label");n.classList.add("task-text"),n.textContent=c.task,n.htmlFor=c.id;const a=document.createElement("img");a.classList.add("task-delete"),a.src="./assets/images/icon-cross.svg",a.addEventListener("click",()=>T(c.id)),s.addEventListener("change",()=>w(c.id)),l.append(s,n,a),t.append(l)}),p.textContent="",p.append(t),L()},y=e=>{o.push(e);const t=u();r(t)},T=e=>{o=o.filter(t=>t.id!==e),r(o)},w=e=>{o=o.map(c=>(c.id===e&&(c.completed=!c.completed),c));const t=u();r(t)},b=e=>{const t={id:Date.now(),task:e,completed:!1};y(t)},x=e=>{E.forEach(t=>{t.classList.remove("filter--active")}),e.classList.add("filter--active")},F=e=>{x(e);const t=u();r(t)},z=()=>{o=o.filter(e=>!e.completed),r(o)};r(o);m.addEventListener("click",()=>{d=!d,f()});k.addEventListener("submit",e=>{e.preventDefault(),e.target.task.value&&(b(e.target.task.value),e.target.reset())});v.addEventListener("click",z);h.addEventListener("click",e=>{e.target.dataset.filter&&F(e.target)});window.matchMedia("(prefers-color-scheme:dark)").addEventListener("change",e=>{d=e.matches,f()});
